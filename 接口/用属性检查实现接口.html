<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		window.onload = function(){
			new CompositeForm();
		}
		/*
		 iterface Composite(){
			 function add(child);
			 function remove(child);
			 function getChild(index);
		 }
		 iterface FormItem(){
			 function save();
		 }
		 */
		var CompositeForm = function(id,method,action){
			//implements Composite FormItem
			this.implementsInterfaces = ['Composite','FormItem'];
			//检查 是否实现
			addForm(this);
		} 
		
		function addForm(formInstance){
			if(!implements1(formInstance,'Composite','FormItem')){
				throw new Error('Objec does not implement a required interface');
			}
		}
		
		function implements1 (object){
			for(var i=1;i<arguments.length;i++){
				var interfaceName = arguments[i];
				var interfaceFound = false;
				for(var j=0;i<=object.implementsInterfaces.length;j++){
					if(object.implementsInterfaces[j] == interfaceName){
						interfaceFound = true;
						break;
					}
				}
				if(!interfaceFound){
					return false;
				}
			}
			return true;
		}
	</script>
</html>
